{"version":3,"names":["POSSIBLE_ROLES","VertexAIErrorCode","VertexAIError","VALID_PART_FIELDS","VALID_PARTS_PER_ROLE","user","function","model","system","VALID_PREVIOUS_CONTENT_ROLES","validateChatHistory","history","prevContent","currContent","role","parts","INVALID_CONTENT","includes","JSON","stringify","Array","isArray","length","countFields","text","inlineData","functionCall","functionResponse","part","key","validParts","validPreviousContentRoles"],"sourceRoot":"../../../lib","sources":["methods/chat-session-helpers.ts"],"mappings":"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","ignoreList":[]}
