{"version":3,"names":["FinishReason","VertexAIErrorCode","VertexAIError","logger","createEnhancedContentResponse","response","candidates","hasOwnProperty","index","responseWithHelpers","addHelpers","text","length","warn","hadBadFinishReason","RESPONSE_ERROR","formatBlockErrorMessage","getText","promptFeedback","functionCalls","getFunctionCalls","undefined","textStrings","content","parts","part","push","join","functionCall","badFinishReasons","RECITATION","SAFETY","candidate","finishReason","includes","message","blockReason","blockReasonMessage","firstCandidate","finishMessage"],"sourceRoot":"../../../lib","sources":["requests/response-helpers.ts"],"mappings":"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","ignoreList":[]}
