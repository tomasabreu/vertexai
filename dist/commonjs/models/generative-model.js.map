{"version":3,"names":["_generateContent","require","_index","_errors","_chatSession","_countTokens","_requestHelpers","GenerativeModel","constructor","vertexAI","modelParams","requestOptions","app","options","apiKey","VertexAIError","VertexAIErrorCode","NO_API_KEY","projectId","NO_PROJECT_ID","_apiSettings","project","location","appCheck","getAppCheckToken","getToken","auth","currentUser","getAuthToken","getIdToken","model","includes","startsWith","generationConfig","safetySettings","tools","toolConfig","systemInstruction","formatSystemInstruction","generateContent","request","formattedParams","formatGenerateContentInput","generateContentStream","startChat","startChatParams","ChatSession","countTokens","exports"],"sourceRoot":"../../../lib","sources":["models/generative-model.ts"],"mappings":"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","ignoreList":[]}
