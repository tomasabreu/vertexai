{"version":3,"names":["_reactNative","require","_index","_errors","_constants","_logger","Task","exports","RequestUrl","constructor","model","task","apiSettings","stream","requestOptions","toString","isTestEnvironment","globalThis","RNFB_VERTEXAI_EMULATOR_URL","emulatorUrl","logger","info","isAndroid","Platform","OS","apiVersion","DEFAULT_API_VERSION","baseUrl","DEFAULT_BASE_URL","url","project","location","fullModelString","modelString","getClientHeaders","loggingTags","push","LANGUAGE_TAG","PACKAGE_VERSION","join","getHeaders","headers","Headers","append","apiKey","getAppCheckToken","appCheckToken","e","warn","token","getAuthToken","authToken","constructRequest","body","fetchOptions","method","makeRequest","response","fetchTimeoutId","request","timeoutMillis","timeout","DEFAULT_FETCH_TIMEOUT_MS","abortController","AbortController","setTimeout","abort","signal","reactNative","textStreaming","fetch","ok","message","errorDetails","json","error","details","JSON","stringify","_","status","some","detail","reason","links","description","includes","VertexAIError","VertexAIErrorCode","API_NOT_ENABLED","statusText","FETCH_ERROR","err","code","Error","ERROR","stack","clearTimeout"],"sourceRoot":"../../../lib","sources":["requests/request.ts"],"mappings":";;;;;;;;;AAgBA,IAAAA,YAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AAEA,IAAAG,UAAA,GAAAH,OAAA;AAOA,IAAAI,OAAA,GAAAJ,OAAA;AA3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA,IA6BYK,IAAI,GAAAC,OAAA,CAAAD,IAAA,0BAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAJA,IAAI;EAAA,OAAJA,IAAI;AAAA;AAMT,MAAME,UAAU,CAAC;EACtBC,WAAWA,CACFC,KAAa,EACbC,IAAU,EACVC,WAAwB,EACxBC,MAAe,EACfC,cAA+B,EACtC;IAAA,KALOJ,KAAa,GAAbA,KAAa;IAAA,KACbC,IAAU,GAAVA,IAAU;IAAA,KACVC,WAAwB,GAAxBA,WAAwB;IAAA,KACxBC,MAAe,GAAfA,MAAe;IAAA,KACfC,cAA+B,GAA/BA,cAA+B;EACrC;EACHC,QAAQA,CAAA,EAAW;IACjB;IACA,MAAMC,iBAAiB,GAAGC,UAAU,CAACC,0BAA0B;IAC/D,IAAIF,iBAAiB,EAAE;MACrB,IAAIG,WAAW;MACfC,cAAM,CAACC,IAAI,CACT,mFACF,CAAC;MACD,MAAMC,SAAS,GAAGC,qBAAQ,CAACC,EAAE,KAAK,SAAS;MAE3C,IAAI,IAAI,CAACX,MAAM,EAAE;QACfM,WAAW,GAAG,UAAUG,SAAS,GAAG,UAAU,GAAG,WAAW,iEAAiE;MAC/H,CAAC,MAAM;QACLH,WAAW,GAAG,UAAUG,SAAS,GAAG,UAAU,GAAG,WAAW,2DAA2D;MACzH;MACA,OAAOH,WAAW;IACpB;IACA;IACA,MAAMM,UAAU,GAAGC,8BAAmB;IACtC,MAAMC,OAAO,GAAG,IAAI,CAACb,cAAc,EAAEa,OAAO,IAAIC,2BAAgB;IAChE,IAAIC,GAAG,GAAG,GAAGF,OAAO,IAAIF,UAAU,EAAE;IACpCI,GAAG,IAAI,aAAa,IAAI,CAACjB,WAAW,CAACkB,OAAO,EAAE;IAC9CD,GAAG,IAAI,cAAc,IAAI,CAACjB,WAAW,CAACmB,QAAQ,EAAE;IAChDF,GAAG,IAAI,IAAI,IAAI,CAACnB,KAAK,EAAE;IACvBmB,GAAG,IAAI,IAAI,IAAI,CAAClB,IAAI,EAAE;IACtB,IAAI,IAAI,CAACE,MAAM,EAAE;MACfgB,GAAG,IAAI,UAAU;IACnB;IACA,OAAOA,GAAG;EACZ;;EAEA;AACF;AACA;AACA;EACE,IAAIG,eAAeA,CAAA,EAAW;IAC5B,IAAIC,WAAW,GAAG,YAAY,IAAI,CAACrB,WAAW,CAACkB,OAAO,EAAE;IACxDG,WAAW,IAAI,cAAc,IAAI,CAACrB,WAAW,CAACmB,QAAQ,EAAE;IACxDE,WAAW,IAAI,IAAI,IAAI,CAACvB,KAAK,EAAE;IAC/B,OAAOuB,WAAW;EACpB;AACF;;AAEA;AACA;AACA;AAFA1B,OAAA,CAAAC,UAAA,GAAAA,UAAA;AAGA,SAAS0B,gBAAgBA,CAAA,EAAW;EAClC,MAAMC,WAAW,GAAG,EAAE;EACtBA,WAAW,CAACC,IAAI,CAAC,GAAGC,uBAAY,IAAIC,0BAAe,EAAE,CAAC;EACtDH,WAAW,CAACC,IAAI,CAAC,QAAQE,0BAAe,EAAE,CAAC;EAC3C,OAAOH,WAAW,CAACI,IAAI,CAAC,GAAG,CAAC;AAC9B;AAEO,eAAeC,UAAUA,CAACX,GAAe,EAAoB;EAClE,MAAMY,OAAO,GAAG,IAAIC,OAAO,CAAC,CAAC;EAC7BD,OAAO,CAACE,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC;EAClDF,OAAO,CAACE,MAAM,CAAC,mBAAmB,EAAET,gBAAgB,CAAC,CAAC,CAAC;EACvDO,OAAO,CAACE,MAAM,CAAC,gBAAgB,EAAEd,GAAG,CAACjB,WAAW,CAACgC,MAAM,CAAC;EACxD,IAAIf,GAAG,CAACjB,WAAW,CAACiC,gBAAgB,EAAE;IACpC,IAAIC,aAAa;IAEjB,IAAI;MACFA,aAAa,GAAG,MAAMjB,GAAG,CAACjB,WAAW,CAACiC,gBAAgB,CAAC,CAAC;IAC1D,CAAC,CAAC,OAAOE,CAAC,EAAE;MACV3B,cAAM,CAAC4B,IAAI,CAAC,6CAA6CD,CAAC,EAAE,CAAC;IAC/D;IACA,IAAID,aAAa,EAAE;MACjBL,OAAO,CAACE,MAAM,CAAC,qBAAqB,EAAEG,aAAa,CAACG,KAAK,CAAC;IAC5D;EACF;EAEA,IAAIpB,GAAG,CAACjB,WAAW,CAACsC,YAAY,EAAE;IAChC,MAAMC,SAAS,GAAG,MAAMtB,GAAG,CAACjB,WAAW,CAACsC,YAAY,CAAC,CAAC;IACtD,IAAIC,SAAS,EAAE;MACbV,OAAO,CAACE,MAAM,CAAC,eAAe,EAAE,YAAYQ,SAAS,EAAE,CAAC;IAC1D;EACF;EAEA,OAAOV,OAAO;AAChB;AAEO,eAAeW,gBAAgBA,CACpC1C,KAAa,EACbC,IAAU,EACVC,WAAwB,EACxBC,MAAe,EACfwC,IAAY,EACZvC,cAA+B,EACsB;EACrD,MAAMe,GAAG,GAAG,IAAIrB,UAAU,CAACE,KAAK,EAAEC,IAAI,EAAEC,WAAW,EAAEC,MAAM,EAAEC,cAAc,CAAC;EAC5E,OAAO;IACLe,GAAG,EAAEA,GAAG,CAACd,QAAQ,CAAC,CAAC;IACnBuC,YAAY,EAAE;MACZC,MAAM,EAAE,MAAM;MACdd,OAAO,EAAE,MAAMD,UAAU,CAACX,GAAG,CAAC;MAC9BwB;IACF;EACF,CAAC;AACH;AAEO,eAAeG,WAAWA,CAC/B9C,KAAa,EACbC,IAAU,EACVC,WAAwB,EACxBC,MAAe,EACfwC,IAAY,EACZvC,cAA+B,EACZ;EACnB,MAAMe,GAAG,GAAG,IAAIrB,UAAU,CAACE,KAAK,EAAEC,IAAI,EAAEC,WAAW,EAAEC,MAAM,EAAEC,cAAc,CAAC;EAC5E,IAAI2C,QAAQ;EACZ,IAAIC,cAA4D;EAChE,IAAI;IACF,MAAMC,OAAO,GAAG,MAAMP,gBAAgB,CAAC1C,KAAK,EAAEC,IAAI,EAAEC,WAAW,EAAEC,MAAM,EAAEwC,IAAI,EAAEvC,cAAc,CAAC;IAC9F;IACA,MAAM8C,aAAa,GACjB9C,cAAc,EAAE+C,OAAO,IAAI,IAAI,IAAI/C,cAAc,CAAC+C,OAAO,IAAI,CAAC,GAC1D/C,cAAc,CAAC+C,OAAO,GACtBC,mCAAwB;IAC9B,MAAMC,eAAe,GAAG,IAAIC,eAAe,CAAC,CAAC;IAC7CN,cAAc,GAAGO,UAAU,CAAC,MAAMF,eAAe,CAACG,KAAK,CAAC,CAAC,EAAEN,aAAa,CAAC;IACzED,OAAO,CAACL,YAAY,CAACa,MAAM,GAAGJ,eAAe,CAACI,MAAM;IACpD,MAAMb,YAAY,GAAGzC,MAAM,GACvB;MACE,GAAG8C,OAAO,CAACL,YAAY;MACvBc,WAAW,EAAE;QACXC,aAAa,EAAE;MACjB;IACF,CAAC,GACDV,OAAO,CAACL,YAAY;IACxBG,QAAQ,GAAG,MAAMa,KAAK,CAACX,OAAO,CAAC9B,GAAG,EAAEyB,YAAY,CAAC;IACjD,IAAI,CAACG,QAAQ,CAACc,EAAE,EAAE;MAChB,IAAIC,OAAO,GAAG,EAAE;MAChB,IAAIC,YAAY;MAChB,IAAI;QACF,MAAMC,IAAI,GAAG,MAAMjB,QAAQ,CAACiB,IAAI,CAAC,CAAC;QAClCF,OAAO,GAAGE,IAAI,CAACC,KAAK,CAACH,OAAO;QAC5B,IAAIE,IAAI,CAACC,KAAK,CAACC,OAAO,EAAE;UACtBJ,OAAO,IAAI,IAAIK,IAAI,CAACC,SAAS,CAACJ,IAAI,CAACC,KAAK,CAACC,OAAO,CAAC,EAAE;UACnDH,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACC,OAAO;QACnC;MACF,CAAC,CAAC,OAAOG,CAAC,EAAE;QACV;MAAA;MAEF,IACEtB,QAAQ,CAACuB,MAAM,KAAK,GAAG,IACvBP,YAAY,CAACQ,IAAI,CAAEC,MAAoB,IAAKA,MAAM,CAACC,MAAM,KAAK,kBAAkB,CAAC,IACjFV,YAAY,CAACQ,IAAI,CAAEC,MAAoB,IACpCA,MAAM,CAACE,KAAK,GAAqC,CAAC,CAAC,EAAEC,WAAW,EAAEC,QAAQ,CACzE,0CACF,CACF,CAAC,EACD;QACA,MAAM,IAAIC,qBAAa,CACrBC,wBAAiB,CAACC,eAAe,EACjC,mEAAmE,GACjE,gEAAgE,GAChE,qEAAqE,GACrE,kDAAkD5D,GAAG,CAACjB,WAAW,CAACkB,OAAO,UAAU,GACnF,gEAAgE,GAChE,oEAAoE,GACpE,aAAa,EACf;UACEkD,MAAM,EAAEvB,QAAQ,CAACuB,MAAM;UACvBU,UAAU,EAAEjC,QAAQ,CAACiC,UAAU;UAC/BjB;QACF,CACF,CAAC;MACH;MACA,MAAM,IAAIc,qBAAa,CACrBC,wBAAiB,CAACG,WAAW,EAC7B,uBAAuB9D,GAAG,MAAM4B,QAAQ,CAACuB,MAAM,IAAIvB,QAAQ,CAACiC,UAAU,KAAKlB,OAAO,EAAE,EACpF;QACEQ,MAAM,EAAEvB,QAAQ,CAACuB,MAAM;QACvBU,UAAU,EAAEjC,QAAQ,CAACiC,UAAU;QAC/BjB;MACF,CACF,CAAC;IACH;EACF,CAAC,CAAC,OAAO1B,CAAC,EAAE;IACV,IAAI6C,GAAG,GAAG7C,CAAU;IACpB,IACGA,CAAC,CAAmB8C,IAAI,KAAKL,wBAAiB,CAACG,WAAW,IAC1D5C,CAAC,CAAmB8C,IAAI,KAAKL,wBAAiB,CAACC,eAAe,IAC/D1C,CAAC,YAAY+C,KAAK,EAClB;MACAF,GAAG,GAAG,IAAIL,qBAAa,CACrBC,wBAAiB,CAACO,KAAK,EACvB,uBAAuBlE,GAAG,CAACd,QAAQ,CAAC,CAAC,KAAKgC,CAAC,CAACyB,OAAO,EACrD,CAAC;MACDoB,GAAG,CAACI,KAAK,GAAGjD,CAAC,CAACiD,KAAK;IACrB;IAEA,MAAMJ,GAAG;EACX,CAAC,SAAS;IACR,IAAIlC,cAAc,EAAE;MAClBuC,YAAY,CAACvC,cAAc,CAAC;IAC9B;EACF;EACA,OAAOD,QAAQ;AACjB","ignoreList":[]}
