{"version":3,"names":["_index","require","_errors","formatSystemInstruction","input","undefined","role","parts","text","formatNewContent","request","newParts","partOrString","push","assignRoleToPartsAndValidateSendMessageRequest","userContent","functionContent","hasUserContent","hasFunctionContent","part","VertexAIError","VertexAIErrorCode","INVALID_CONTENT","formatGenerateContentInput","params","formattedRequest","contents","content","systemInstruction"],"sourceRoot":"../../../lib","sources":["requests/request-helpers.ts"],"mappings":";;;;;;;;AAiBA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AAlBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAKO,SAASE,uBAAuBA,CAACC,KAA+B,EAAuB;EAC5F;EACA,IAAIA,KAAK,IAAI,IAAI,EAAE;IACjB,OAAOC,SAAS;EAClB,CAAC,MAAM,IAAI,OAAOD,KAAK,KAAK,QAAQ,EAAE;IACpC,OAAO;MAAEE,IAAI,EAAE,QAAQ;MAAEC,KAAK,EAAE,CAAC;QAAEC,IAAI,EAAEJ;MAAM,CAAC;IAAE,CAAC;EACrD,CAAC,MAAM,IAAKA,KAAK,CAAUI,IAAI,EAAE;IAC/B,OAAO;MAAEF,IAAI,EAAE,QAAQ;MAAEC,KAAK,EAAE,CAACH,KAAK;IAAU,CAAC;EACnD,CAAC,MAAM,IAAKA,KAAK,CAAaG,KAAK,EAAE;IACnC,IAAI,CAAEH,KAAK,CAAaE,IAAI,EAAE;MAC5B,OAAO;QAAEA,IAAI,EAAE,QAAQ;QAAEC,KAAK,EAAGH,KAAK,CAAaG;MAAM,CAAC;IAC5D,CAAC,MAAM;MACL,OAAOH,KAAK;IACd;EACF;EAEA,OAAOC,SAAS;AAClB;AAEO,SAASI,gBAAgBA,CAACC,OAAsC,EAAW;EAChF,IAAIC,QAAgB,GAAG,EAAE;EACzB,IAAI,OAAOD,OAAO,KAAK,QAAQ,EAAE;IAC/BC,QAAQ,GAAG,CAAC;MAAEH,IAAI,EAAEE;IAAQ,CAAC,CAAC;EAChC,CAAC,MAAM;IACL,KAAK,MAAME,YAAY,IAAIF,OAAO,EAAE;MAClC,IAAI,OAAOE,YAAY,KAAK,QAAQ,EAAE;QACpCD,QAAQ,CAACE,IAAI,CAAC;UAAEL,IAAI,EAAEI;QAAa,CAAC,CAAC;MACvC,CAAC,MAAM;QACLD,QAAQ,CAACE,IAAI,CAACD,YAAY,CAAC;MAC7B;IACF;EACF;EACA,OAAOE,8CAA8C,CAACH,QAAQ,CAAC;AACjE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASG,8CAA8CA,CAACP,KAAa,EAAW;EAC9E,MAAMQ,WAAoB,GAAG;IAAET,IAAI,EAAE,MAAM;IAAEC,KAAK,EAAE;EAAG,CAAC;EACxD,MAAMS,eAAwB,GAAG;IAAEV,IAAI,EAAE,UAAU;IAAEC,KAAK,EAAE;EAAG,CAAC;EAChE,IAAIU,cAAc,GAAG,KAAK;EAC1B,IAAIC,kBAAkB,GAAG,KAAK;EAC9B,KAAK,MAAMC,IAAI,IAAIZ,KAAK,EAAE;IACxB,IAAI,kBAAkB,IAAIY,IAAI,EAAE;MAC9BH,eAAe,CAACT,KAAK,CAACM,IAAI,CAACM,IAAI,CAAC;MAChCD,kBAAkB,GAAG,IAAI;IAC3B,CAAC,MAAM;MACLH,WAAW,CAACR,KAAK,CAACM,IAAI,CAACM,IAAI,CAAC;MAC5BF,cAAc,GAAG,IAAI;IACvB;EACF;EAEA,IAAIA,cAAc,IAAIC,kBAAkB,EAAE;IACxC,MAAM,IAAIE,qBAAa,CACrBC,wBAAiB,CAACC,eAAe,EACjC,4HACF,CAAC;EACH;EAEA,IAAI,CAACL,cAAc,IAAI,CAACC,kBAAkB,EAAE;IAC1C,MAAM,IAAIE,qBAAa,CACrBC,wBAAiB,CAACC,eAAe,EACjC,kDACF,CAAC;EACH;EAEA,IAAIL,cAAc,EAAE;IAClB,OAAOF,WAAW;EACpB;EAEA,OAAOC,eAAe;AACxB;AAEO,SAASO,0BAA0BA,CACxCC,MAA8D,EACtC;EACxB,IAAIC,gBAAwC;EAC5C,IAAKD,MAAM,CAA4BE,QAAQ,EAAE;IAC/CD,gBAAgB,GAAGD,MAAgC;EACrD,CAAC,MAAM;IACL;IACA,MAAMG,OAAO,GAAGlB,gBAAgB,CAACe,MAAuC,CAAC;IACzEC,gBAAgB,GAAG;MAAEC,QAAQ,EAAE,CAACC,OAAO;IAAE,CAAC;EAC5C;EACA,IAAKH,MAAM,CAA4BI,iBAAiB,EAAE;IACxDH,gBAAgB,CAACG,iBAAiB,GAAGzB,uBAAuB,CACzDqB,MAAM,CAA4BI,iBACrC,CAAC;EACH;EACA,OAAOH,gBAAgB;AACzB","ignoreList":[]}
